<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Buvette ‚Äì Twirling B√¢ton Trets</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="site-header"></div>
  <script src="assets/inject-header.js" defer></script>
  <section class="hero wrap">
    <h1>Buvette ‚Äì Ligue N3 (25‚Äì26 avril 2026)</h1>
    <p><strong>Paiements accept√©s :</strong> esp√®ces et carte bancaire (petit TPE). <strong>Pas de ch√®ques.</strong></p>
    <p class="rule">‚ö†Ô∏è Interdiction de manger dans le gymnase. Seules les bouteilles d‚Äôeau et gourdes sont accept√©es.</p>
  </section>
  <main class="wrap card">
    <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px">
      <input id="q" type="search" placeholder="Rechercher un article‚Ä¶" aria-label="Rechercher" />
      <select id="filterCat" aria-label="Filtrer par cat√©gorie"></select>
      <button onclick="window.print()">üñ®Ô∏è Imprimer</button>
    </div>
    <div style="overflow:auto">
      <table id="menuTable">
        <thead>
          <tr>
            <th>Article</th>
            <th>Cat√©gorie</th>
            <th>Prix</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <p class="note">Pour modifier la carte, √©ditez le fichier <code>menu.json</code>.</p>
  </main>
  <script>
    const el=(s)=>document.querySelector(s);
    const fmt=(p)=> (String(p).includes(',')||String(p).includes('x')) ? (String(p).replace('.', ',') + (String(p).includes('‚Ç¨')?'':' ‚Ç¨')) : (Number(p).toFixed(2).replace('.', ',') + ' ‚Ç¨');
    fetch('menu.json').then(r=>r.json()).then(ITEMS=>{
      const cats=[...new Set(ITEMS.map(i=>i.category))];
      document.querySelector('#filterCat').innerHTML = '<option value="">Cat√©gorie: toutes</option>' + cats.map(c=>`<option>${c}</option>`).join('');
      function render(){
        const q=(document.querySelector('#q').value||'').trim().toLowerCase();
        const cat=document.querySelector('#filterCat').value;
        const rows=ITEMS.filter(i=>!cat||i.category===cat)
          .filter(i=>!q||i.name.toLowerCase().includes(q))
          .map(i=>`<tr><td>${i.name}</td><td><span class=\"pill\">${i.category}</span></td><td class=\"price\">${fmt(i.price)}</td></tr>`).join('');
        document.querySelector('#menuTable tbody').innerHTML = rows || '<tr><td colspan=\"3\" class=\"muted\">Aucun article‚Ä¶</td></tr>';
      }
      ['#q','#filterCat'].forEach(id=> document.querySelector(id).addEventListener('input', render));
      render();
    });
  </script>
  <footer class="footer wrap">
    <div>¬© <span id="year"></span> Twirling B√¢ton Trets ‚Ä¢ Site statique simple</div>
  </footer>
  <script>
    document.querySelectorAll('#year').forEach(function(n){ n.textContent = new Date().getFullYear(); });
  </script>

</body>
</html>
