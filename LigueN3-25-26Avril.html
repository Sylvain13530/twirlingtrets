<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ligue N3 ‚Äì 25‚Äì26 avril 2026 ‚Äì Twirling B√¢ton Trets</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="site-header"></div>
  <script src="assets/inject-header.js" defer></script>

  <section class="hero wrap">
    <span class="badge">üèÜ Ligue N3 PACA ‚Äî 25‚Äì26 avril 2026</span>
    <h1>Informations √©v√®nement</h1>
    <ul>
      <li><strong>Lieu :</strong> Gymnase de la Gardi ‚Äî 1120 Av. Marius Joly, 13530 Trets</li>
      <li><strong>Acc√®s parking :</strong> Chemin de Fond de Tuile ‚Äî GPS 43.445891, 5.702016</li>
      <li><strong>Buvette :</strong> paiements esp√®ces et carte, <em>pas de ch√®ques</em> ; syst√®me de tickets</li>
      <li class="rule"><strong>R√®glement :</strong> Interdiction de manger dans le gymnase ‚Äî seules bouteilles d‚Äôeau et gourdes sont accept√©es.</li>
    </ul>
    <p>
      üìç Ouvrir le plan d‚Äôacc√®s :
      <a
        id="gmaps"
        href="https://www.google.com/maps/search/?api=1&query=43.445891,5.702016"
        target="_blank"
        rel="noopener"
      >Google Maps</a>
      ‚Ä¢
      <a
        id="amaps"
        href="https://maps.apple.com/?ll=43.445891,5.702016&q=Gymnase%20de%20la%20Gardi"
        target="_blank"
        rel="noopener"
      >Apple Plans</a>
    </p>
  </section>

  <main class="wrap">
    <section class="card">
      <h2>Buvette ‚Äì Ligue N3 (25‚Äì26 avril 2026)</h2>
      <p class="muted" style="margin-top:-4px">
        Encaissement = <strong>ticket</strong> ‚Üí remise du produit. Paiements : <strong>esp√®ces et carte</strong>. <em>Pas de ch√®ques.</em>
      </p>

      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin:12px 0">
        <input id="q" type="search" placeholder="Rechercher un article‚Ä¶" aria-label="Rechercher" />
        <select id="filterCat" aria-label="Filtrer par cat√©gorie"></select>
        <button onclick="window.print()">üñ®Ô∏è Imprimer</button>
      </div>

      <div style="overflow:auto">
        <table id="menuTable">
          <thead>
            <tr>
              <th>Article</th>
              <th>Cat√©gorie</th>
              <th>Prix</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <p class="note">Pour modifier la carte, √©ditez le fichier <code>menu.json</code>.</p>
    </section>
  </main>

  <div id="site-footer"></div>
  <script src="assets/inject-footer.js" defer></script>

  <script>
    // Mise en avant du lien carte selon l'appareil
    (function(){
      try {
        var ua = navigator.userAgent || "";
        var isApple = /iPhone|iPad|Macintosh/.test(ua);
        if (isApple) {
          var a = document.getElementById('amaps');
          if (a) a.style.fontWeight = '800';
        } else {
          var g = document.getElementById('gmaps');
          if (g) g.style.fontWeight = '800';
        }
      } catch(e) {}
    })();
  </script>

  <script>
    // Buvette: chargement du menu depuis menu.json + recherche/filtre
    const fmt = (p) => {
      const s = String(p);
      if (s.includes('x') || s.includes(',')) {
        return s.replace('.', ',') + (s.includes('‚Ç¨') ? '' : ' ‚Ç¨');
      }
      const n = Number(p);
      return (isNaN(n) ? s : n.toFixed(2).replace('.', ',')) + ' ‚Ç¨';
    };

    fetch('menu.json')
      .then(r => r.json())
      .then(ITEMS => {
        // Cat√©gories
        const select = document.getElementById('filterCat');
        const cats = [...new Set(ITEMS.map(i => i.category))].filter(Boolean);
        select.innerHTML = '<option value="">Cat√©gorie : toutes</option>' + cats.map(c => '<option>' + c + '</option>').join('');

        function render() {
          const q = (document.getElementById('q').value || '').trim().toLowerCase();
          const cat = select.value;
          const rows = ITEMS
            .filter(i => !cat || i.category === cat)
            .filter(i => !q || (i.name || '').toLowerCase().includes(q))
            .map(i =>
              '<tr>' +
                '<td>' + i.name + '</td>' +
                '<td><span class="pill">' + (i.category || '') + '</span></td>' +
                '<td class="price">' + fmt(i.price) + '</td>' +
              '</tr>'
            ).join('');

          document.querySelector('#menuTable tbody').innerHTML =
            rows || '<tr><td colspan="3" class="muted">Aucun article‚Ä¶</td></tr>';
        }

        document.getElementById('q').addEventListener('input', render);
        select.addEventListener('input', render);
        render();
      });
  </script>
</body>
</html>
